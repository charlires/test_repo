name: Main

on:
    workflow_dispatch:
        # inputs:
            # pr-number: 
            #     description: 'Pull request number to comment on.'
            #     required: true
    pull_request:
        types: [opened, edited, reopened]

jobs:
    comment-on-pr:
        runs-on: ubuntu-latest
        steps:
          - shell: python
            run : |
              import os
              import subprocess
              print("Hello, this is a placeholder for commenting on a PR.")

              # run command to test 
              result = subprocess.run(['echo', '-n', 'Testing command execution'], capture_output=True, text=True)
              print("Command output:", result.stdout)
              print("Command error (if any):", result.stderr.strip())
              print("Command return code:", result.returncode)

              # Example of a failing command
              fail_result = subprocess.run(['ls', '/nonexistentpath'], capture_output=True, text=True)
              print("Failing command output:", fail_result.stdout)
              print("Failing command error (if any):", fail_result.stderr.strip())
              print("Failing command return code:", fail_result.returncode)

              # Example parsing json output
              json_result = subprocess.run(['echo', '{"key": "value"}'], capture_output=True, text=True)
              import json
              data = json.loads(json_result.stdout)
              print("Parsed JSON data:", data)
              print("Value for 'key':", data['key'])
